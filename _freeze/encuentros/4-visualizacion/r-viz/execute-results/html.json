{
  "hash": "40a4667545daf1e6799bcc0b81a863a3",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Visualizaci√≥n de datos con `{ggplot2}`\"\nsubtitle: \"Principales conceptos y funciones para visualizar datos con R\"\nauthor: \"[üîó Estaci√≥n R](https://estacion-r.netlify.app/)\"\ninstitution: Estaci√≥n R\ndate: 2024-03-20\nfooter: \"[üîó Introducci√≥n al Procesamiento de Datos con R](https://pablotis.github.io/intro-r-quarto/)\"\nlogo: \"../../img/Logo_PNG_Baja_Mesa de trabajo 1.png\"\nformat: \n  revealjs: \n    width: 1600\n    theme: ../estilo_diapos.scss\n    multiplex: true\n    transition: fade\n    progress: true\n    highlight-style: printing\n    embed-resources: true\n    code-line-numbers: false\n    code-block-bg: true\n    code-copy: true\ncode-block-border-left: \"#31BAE9\"\nexecute:\n  execute:\n  freeze: auto\n  echo: true\n---\n\n\n# Bienvenidos y bienvenidas a Estaci√≥n R\n\nüçÄ [Linktree](https://estacion-r.netlify.app/)\n\nüîó [Web](https://estacion-r.netlify.app/)\n\n------------------------------------------------------------------------\n\n## ¬øQu√© vimos?\n\n<br>\n\n‚úÖ Conceptos b√°sicos de R\n\n<br>\n\n‚úÖ Pensar un proyecto de datos con R\n\n<br>\n\n‚úÖ Procesamiento de datos con `{tidyverse}`\n\n## Hoja de Ruta\n\n<br>\n\nüìå ¬øPor qu√© visualizar datos?\n\nüìå Gram√°tica de los gr√°ficos y `{ggplot2}`\n\n```         \n  - Capas y el operador `+` (m√°s)\n```\n\nüìå Armando un gr√°fico de barras (columnas)\n\n```         \n  - Funci√≥n `geom_col()`\n```\n\nüìå Chapa y pintura de un gr√°fico (atributos)\n\n## Configuraci√≥n para esta clase\n\n<br>\n\n-   Armar un proyeto de trabajo nuevo o abrir aquel con el que ven√≠amos trabajando\n\n-   Cargar la base del [**Padr√≥n √önico Nacional de Alojamientos**](https://datos.yvera.gob.ar/dataset/padron-unico-nacional-alojamiento) (Argentina) y chequear que est√© en la carpeta `datos`\n\n-   Crear un **script** de trabajo\n\n-   Carga la librer√≠a `{tidyverse}`\n\n# ¬øPor qu√© visualizar datos?\n\n<html>\n\n<hr color='#EB811B' size=1px width=1600px>\n\n</html>\n\n## ¬øPor qu√© visualizar?\n\n<br>\n\n-   *\"La visualizaci√≥n es el proceso de hacer visibles los contrastes, ritmos y eventos que los datos expresan, que no podemos percibir cuando vienen en forma de √°ridas listas de n√∫meros y categor√≠as.\"* [^1]\n\n[^1]: https://bitsandbricks.github.io/ciencia_de_datos_gente_sociable/visualizacion.html\n\n<br>\n\n-   Interpretar / decodificar la informaci√≥n de forma visual\n\n<br>\n\n-   Guiar hacia el hallazago\n\n<br>\n\n# ggplot2\n\n<html>\n\n<hr color='#EB811B' size=1px width=1600px>\n\n</html>\n\n<html>\n\n\n```{=html}\n<p style=\"color:grey;\" align:\"left\">Una forma de visualizar</p>\n```\n\n</html>\n\n::: {layout-valign=\"center\"}\n![](img/ggplot_icon.png){fig-align=\"center\"}\n:::\n\n## **¬øQu√© es `{ggplot2}`?**\n\n<br>\n\n-   Una implementaci√≥n del sistema **Grammar of graphics** (Wilkinson, 2005).\n\n<br>\n\n-   Un esquema pensado en capas (datos --\\> plano (ejes **x** e **y**) --\\> geometr√≠as)\n\n<br>\n\n-   Un paquete de funciones de aplicaci√≥n intuitiva.\n\n## **¬øPor qu√© `{ggplot2}`?**\n\n::: incremental\n\n-   Tiene un marco de referencia (El grammar of graphics)\n\n-   Flexible, con especificaciones a nivel de capas.\n\n-   Sistema de `themes`, que permiten *pulir* la apariencia del gr√°fico\n\n-   Decenas de extensiones para ampliar la potencia del paquete\n\n-   Comunidad activa y con mucha predisposici√≥n a ayudar.\n\n# ¬øA d√≥nde vamos?\n\n\n::: {.cell}\n\n:::\n\n\n::: panel-tabset\n### Graphic\n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](r-viz_files/figure-revealjs/example-motivation-basic-1.png){fig-align='center' width=672}\n:::\n:::\n\n\n### Code\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Preparo los datos\ndf_habitaciones_2022 <- df_puna |>\n  filter(indice_tiempo == 2022) |> \n  group_by(tipo) |> \n  summarise(habitaciones_n = sum(habitaciones, na.rm = T))\n\nggplot(data = df_habitaciones_2022,\n       mapping = aes(x = tipo, \n                         y = habitaciones_n)) +\n  geom_col(aes(fill = tipo)) + \n  geom_text(aes(label = habitaciones_n, \n                vjust = -0.5)) +\n  geom_hline(yintercept = 0) +\n  labs(title = \"Cantidad de habitaciones por tipo de alojamiento\",\n       subtitle = \"Argentina, a√±o 2021\",\n       x = \"\",\n       y = \"Cantidad de habitaciones\",\n       caption = \"Fuente: PUNA - MINTURyDEP\",\n       fill = \"Tipo de alojamiento\") + \n  theme_minimal() +\n  theme(legend.position = \"none\")\n```\n:::\n\n:::\n\n# ¬øPor d√≥nde empezamos?\n\n## Cargamos el paquete\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(ggplot2)\n```\n:::\n\n\n<br>\n\no...\n\n<br>\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\n```\n:::\n\n\n## Gr√°fico en clave de capas\n\n<br>\n\n3 Capas son las indispensables al pensar nuestro gr√°fico:\n\n## Gr√°fico en clave de capas\n\n<br>\n\n-   Los **datos** (argumento: `data =`):\n\n    -   El dataframe que sirve de insumo\n\n<br>\n\n## Gr√°fico en clave de capas\n\n<br>\n\n-   Los **datos** (argumento: `data =`):\n\n    -   El dataframe que sirve de insumo\n\n<br>\n\n-   Las **aesthetics** (funci√≥n `aes()`:\n\n    -   Defino el v√≠nculo entre los datos y las propiedades visuales (ejes x e y, por ej.)\n\n## Gr√°fico en clave de capas\n\n<br>\n\n-   Los **datos** (argumento: `data =`):\n\n    -   El dataframe que sirve de insumo\n\n<br>\n\n-   Las **aesthetics** (funci√≥n `aes()`:\n\n    -   Defino el v√≠nculo entre los datos y las propiedades visuales (ejes x e y, por ej.)\n\n<br>\n\n-   Las **geometr√≠as** (funci√≥n `geom_*()`:\n\n    -   La geometr√≠a con la que se representan los datos\n\n## Gr√°fico en clave de capas\n\n<br>\n\n-   Pregunta-problema: Quiero representar la cantidad de **habitaciones** por **tipo de alojamiento**, para el **a√±o 2022**\n\nPreparo los datos:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\ndf_puna <- read_csv(\"data/puna_base_agregada.csv\")\n\ndf_habitaciones_2022 <- df_puna |>\n  filter(indice_tiempo == 2022) |> \n  group_by(tipo) |> \n  summarise(habitaciones_n = sum(habitaciones, na.rm = T))\n```\n:::\n\n::: {.cell}\n\n:::\n\n\n## Gr√°fico en clave de capas\n\n<br>\n\n-   As√≠ queda nuestra tabla:\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndf_habitaciones_2022\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 3 √ó 2\n  tipo             habitaciones_n\n  <chr>                     <dbl>\n1 Hoteleros                185351\n2 Otros colectivos           2810\n3 Parahoteleros             58490\n```\n\n\n:::\n:::\n\n\n## Gr√°fico en clave de capas\n\n\n::: {.cell output-location='column'}\n\n```{.r .cell-code  code-line-numbers=\"1|2\"}\nggplot(data = df_habitaciones_2022,\n       aes(x = tipo, y = habitaciones_n))\n```\n\n::: {.cell-output-display}\n![](r-viz_files/figure-revealjs/ggplot-aesthetics-outside-1.png){width=960}\n:::\n:::\n\n\n## Gr√°fico en clave de capas\n\n\n::: {.cell output-location='column'}\n\n```{.r .cell-code  code-line-numbers=\"3\"}\nggplot(data = df_habitaciones_2022,\n       aes(x = tipo, y = habitaciones_n)) +\n  geom_col()\n```\n\n::: {.cell-output-display}\n![](r-viz_files/figure-revealjs/ggplot-aesthetics-outside-geom-1.png){width=960}\n:::\n:::\n\n\n# Chapa y pintura\n\n## Chapa y pintura - Relleno\n\n\n::: {.cell output-location='column'}\n\n```{.r .cell-code  code-line-numbers=\"3\"}\nggplot(data = df_habitaciones_2022,\n       aes(x = tipo, y = habitaciones_n)) +\n  geom_col(fill = \"red\")\n```\n\n::: {.cell-output-display}\n![](r-viz_files/figure-revealjs/ggplot-aesthetics-outside-fill-1.png){width=960}\n:::\n:::\n\n\n## Chapa y pintura - Relleno\n\n\n::: {.cell output-location='column'}\n\n```{.r .cell-code  code-line-numbers=\"3\"}\nggplot(data = df_habitaciones_2022,\n       aes(x = tipo, y = habitaciones_n)) +\n  geom_col(aes(fill = tipo))\n```\n\n::: {.cell-output-display}\n![](r-viz_files/figure-revealjs/ggplot-aesthetics-outside-fill-aes-1.png){width=960}\n:::\n:::\n\n\n## Chapa y pintura - Contorno\n\n\n::: {.cell output-location='column'}\n\n```{.r .cell-code  code-line-numbers=\"4\"}\nggplot(data = df_habitaciones_2022,\n       aes(x = tipo, y = habitaciones_n)) +\n  geom_col(aes(fill = tipo),\n           color = \"black\")\n```\n\n::: {.cell-output-display}\n![](r-viz_files/figure-revealjs/ggplot-aesthetics-outside-color-1.png){width=960}\n:::\n:::\n\n\n## Chapa y pintura - Referencias\n\n\n::: {.cell output-location='column'}\n\n```{.r .cell-code  code-line-numbers=\"5\"}\nggplot(data = df_habitaciones_2022,\n       aes(x = tipo, y = habitaciones_n)) +\n  geom_col(aes(fill = tipo),\n           color = \"black\") + \n  labs(title = \"Cantidad de habitaciones por tipo de alojamiento\")\n```\n\n::: {.cell-output-display}\n![](r-viz_files/figure-revealjs/ggplot-aesthetics-outside-labs1-1.png){width=960}\n:::\n:::\n\n\n## Chapa y pintura - Referencias\n\n\n::: {.cell output-location='column'}\n\n```{.r .cell-code  code-line-numbers=\"5,6,7,8,9\"}\nggplot(data = df_habitaciones_2022,\n       aes(x = tipo, y = habitaciones_n)) +\n  geom_col(aes(fill = tipo),\n           color = \"black\") + \n  labs(title = \"Cantidad de habitaciones por tipo de alojamiento\",\n       subtitle = \"Argentina, a√±o 2022\",\n       x = \"\",\n       y = \"Cant. de habitaciones\",\n       caption = \"Fuente: Elaboraci√≥n propia en base al PUNA-MINTURyDEP\")\n```\n\n::: {.cell-output-display}\n![](r-viz_files/figure-revealjs/ggplot-aesthetics-outside-labs2-1.png){width=960}\n:::\n:::\n\n\n## Chapa y pintura - theme\n\n\n::: {.cell output-location='column'}\n\n```{.r .cell-code  code-line-numbers=\"10\"}\nggplot(data = df_habitaciones_2022,\n       aes(x = tipo, y = habitaciones_n)) +\n  geom_col(aes(fill = tipo),\n           color = \"black\") + \n  labs(title = \"Cantidad de habitaciones por tipo de alojamiento\",\n       subtitle = \"Argentina, a√±o 2022\",\n       x = \"\",\n       y = \"Cant. de habitaciones\",\n       caption = \"Fuente: Elaboraci√≥n propia en base al PUNA-MINTURyDEP\") +\n  theme_minimal()\n```\n\n::: {.cell-output-display}\n![](r-viz_files/figure-revealjs/ggplot-aesthetics-outside-theme-1.png){width=960}\n:::\n:::\n\n\n## Chapa y pintura - theme\n\n\n::: {.cell output-location='column'}\n\n```{.r .cell-code  code-line-numbers=\"11\"}\nggplot(data = df_habitaciones_2022,\n       aes(x = tipo, y = habitaciones_n)) +\n  geom_col(aes(fill = tipo),\n           color = \"black\") + \n  labs(title = \"Cantidad de habitaciones por tipo de alojamiento\",\n       subtitle = \"Argentina, a√±o 2022\",\n       x = \"\",\n       y = \"Cant. de habitaciones\",\n       caption = \"Fuente: Elaboraci√≥n propia en base al PUNA-MINTURyDEP\") +\n  theme_minimal() + \n  theme(legend.position = \"none\")\n```\n\n::: {.cell-output-display}\n![](r-viz_files/figure-revealjs/ggplot-aesthetics-outside-theme2-1.png){width=960}\n:::\n:::\n",
    "supporting": [
      "r-viz_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-after-body": [
        "\n<script>\n  // htmlwidgets need to know to resize themselves when slides are shown/hidden.\n  // Fire the \"slideenter\" event (handled by htmlwidgets.js) when the current\n  // slide changes (different for each slide format).\n  (function () {\n    // dispatch for htmlwidgets\n    function fireSlideEnter() {\n      const event = window.document.createEvent(\"Event\");\n      event.initEvent(\"slideenter\", true, true);\n      window.document.dispatchEvent(event);\n    }\n\n    function fireSlideChanged(previousSlide, currentSlide) {\n      fireSlideEnter();\n\n      // dispatch for shiny\n      if (window.jQuery) {\n        if (previousSlide) {\n          window.jQuery(previousSlide).trigger(\"hidden\");\n        }\n        if (currentSlide) {\n          window.jQuery(currentSlide).trigger(\"shown\");\n        }\n      }\n    }\n\n    // hookup for slidy\n    if (window.w3c_slidy) {\n      window.w3c_slidy.add_observer(function (slide_num) {\n        // slide_num starts at position 1\n        fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);\n      });\n    }\n\n  })();\n</script>\n\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}